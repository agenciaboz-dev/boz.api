datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model Project {
    id          Int         @id @default(autoincrement())
    name        String
    github      String?
    description String?     @db.Text
    deadline    String?

    times_id    Int         @unique
    times       Time        @relation(fields: [times_id], references: [id])

    workers     Worker[]
}

model Worker {
    id          Int         @id @default(autoincrement())
    admin       Boolean     @default(false)
    joined_date String
    role        String

    times       Time[]

    user_id     Int
    user        User        @relation(fields: [user_id], references: [id], onDelete: Cascade)

    project_id  Int
    project     Project     @relation(fields: [project_id], references: [id], onDelete: Cascade)
}

model Time {
    id          Int         @id @default(autoincrement())
    started     String
    ended       String?
    worked      String?

    worker_id   Int?
    worker      Worker?     @relation(fields: [worker_id], references: [id])
    project     Project?
}

model User {
    id          Int         @id @default(autoincrement())


    working_projects    Worker[]
}