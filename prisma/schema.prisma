// *** GENERATED BY PRISMIX :: DO NOT EDIT ***
datasource db {
	provider = "mysql"
	url = env("DATABASE_URL")
}
generator client {
	provider = "prisma-client-js"
	previewFeatures = ["fullTextSearch","fullTextIndex"]
}
model Customer {
	id Int @id @default(autoincrement())
	name String 
	active Boolean 
	recomendations String @db.Text
	image String @default("") @db.Text
	qrcodes QrCode[] @relation(name: "CustomerToQrCode")
	services Service[] @relation(name: "CustomerToService")
}
model Department {
	id Int @id @default(autoincrement())
	name String 
	users User[] @relation(name: "DepartmentToUser")
}
model User {
	id Int @id @default(autoincrement())
	departmentId Int 
	department Department @relation(name: "DepartmentToUser", fields: [departmentId], references: [id], onDelete: Cascade)
	qrcodes QrCode[] @relation(name: "QrCodeToUser")
	roles Role[] @relation(name: "RoleToUser")
	statusLog StatusLog[] @relation(name: "StatusLogToUser")
	themes Theme[] @relation(name: "ThemeToUser")
	username String @unique
	email String @unique
	password String 
	name String 
	cpf String 
	birth DateTime 
	phone String @default("")
	image String @default("") @db.Text
	googleId String? 
	googleToken String? @db.Text
	apiTesters ApiTester[] @relation(name: "ApiTesterToUser")
	testerRequests TesterRequest[] @relation(name: "TesterRequestToUser")
	testerEvents TestarEvent[] @relation(name: "TestarEventToUser")
	warnings Warning[] @relation(name: "UserToWarning")
	confirmedWarnings Warning[] @relation(name: "confirmed")
	comments Comment[] @relation(name: "CommentToUser")
}
model QrCode {
	id Int @id @default(autoincrement())
	name String 
	code String @db.Text
	datetime DateTime @default(now())
	userId Int 
	user User @relation(name: "QrCodeToUser", fields: [userId], references: [id], onDelete: Cascade)
	customerId Int 
	customer Customer @relation(name: "CustomerToQrCode", fields: [customerId], references: [id], onDelete: Cascade)
}
model Role {
	id Int @id @default(autoincrement())
	tag String @unique
	name String 
	users User[] @relation(name: "RoleToUser")
}
model Service {
	id Int @id @default(autoincrement())
	tag String @unique
	name String 
	customers Customer[] @relation(name: "CustomerToService")
}
model StatusLog {
	id Int @id @default(autoincrement())
	status Int 
	datetime DateTime @default(now())
	userId Int 
	user User @relation(name: "StatusLogToUser", fields: [userId], references: [id], onDelete: Cascade)
}
model Theme {
	id Int @id @default(autoincrement())
	name String 
	active Boolean @default(false)
	timestamp String @db.Text
	primary String 
	secondary String 
	terciary String 
	success String 
	warning String 
	background_primary String 
	background_secondary String 
	text_primary String 
	text_secondary String 
	text_terciary String 
	userId Int 
	user User @relation(name: "ThemeToUser", fields: [userId], references: [id])
}
model ApiTester {
	id Int @id @default(autoincrement())
	name String 
	socket Boolean 
	baseUrl String 
	port String 
	description String @default("") @db.Text
	requests TesterRequest[] @relation(name: "ApiTesterToTesterRequest")
	events TestarEvent[] @relation(name: "ApiTesterToTestarEvent")
	creatorId Int @default(2)
	creator User @relation(name: "ApiTesterToUser", fields: [creatorId], references: [id], onDelete: Cascade)
}
model TesterRequest {
	id Int @id @default(autoincrement())
	name String 
	url String 
	method String 
	payload String @db.Text
	response String @db.Text
	apiId Int 
	api ApiTester @relation(name: "ApiTesterToTesterRequest", fields: [apiId], references: [id], onDelete: Cascade)
	creatorId Int 
	creator User @relation(name: "TesterRequestToUser", fields: [creatorId], references: [id], onDelete: Cascade)
}
model TestarEvent {
	id Int @id @default(autoincrement())
	name String 
	event String 
	payload String @db.Text
	apiId Int 
	api ApiTester @relation(name: "ApiTesterToTestarEvent", fields: [apiId], references: [id], onDelete: Cascade)
	creatorId Int 
	creator User @relation(name: "TestarEventToUser", fields: [creatorId], references: [id], onDelete: Cascade)
}
model Warning {
	id Int @id @default(autoincrement())
	title String 
	text String @db.Text
	date String 
	creatorId Int 
	creator User @relation(name: "UserToWarning", fields: [creatorId], references: [id], onDelete: Cascade)
	confirmed User[] @relation(name: "confirmed")
	comments Comment[] @relation(name: "CommentToWarning")
}
model Comment {
	id Int @id @default(autoincrement())
	text String @db.Text
	date String 
	userId Int 
	user User @relation(name: "CommentToUser", fields: [userId], references: [id], onDelete: Cascade)
	warningId Int? 
	warning Warning? @relation(name: "CommentToWarning", fields: [warningId], references: [id], onDelete: Cascade)
}